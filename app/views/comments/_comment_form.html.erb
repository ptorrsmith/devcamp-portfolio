<% unless current_user.is_a? GuestUser %>
<!-- not using form_for with default of local submit, now form_with, which defaults to remote submit, so no need to set local: false or remote: true -->
<%#= form_for @comment, url: '#' do | form | %>
<!-- note: must specify model: model/@model objects -->
<%= form_with(model: @comment, url: '#', id: 'new_comment', local: true) do | form | %>
<div class="form-group">
    <%= form.label :content, 'add a comment...' %>
    <%= form.text_area :content, class: 'form-control' %>
</div>

<%= form.submit 'Post your comment', class: 'btn btn-primary' %>

<% end %>

<% end %>